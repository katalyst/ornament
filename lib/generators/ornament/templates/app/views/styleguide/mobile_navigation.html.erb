<% content_for :title, "Mobile Navigation" %>

<div class="content-spacing content-lists">

  <h2 class="heading-two">Scaffolding the menu</h2>

  <p>The menu requires the following markup to get started. Luckily Ornament comes with this markup out of the box, ready to go!</p>

  <pre class="sg-pre prettyprint">&lt;div class="layout">

  &lt;div class="layout--mobile-tray">
    &lt;nav class="navigation-mobile">
      &lt;div class="pane-wrapper">
        &lt;div class="pane">
          &lt;div class="pane--navigation-container">

            Navigation list goes here

          &lt;/div>&lt;!-- .pane--navigation-container -->
        &lt;/div>
      &lt;/div>
    &lt;/nav>
  &lt;/div>&lt;!-- .layout--mobile-tray -->
  &lt;div class="layout--content">

    Website goes here

  &lt;/div>&lt;!-- .layout--content -->
&lt;/div>&lt;!-- .layout --></pre>

  <p>The navigation links need to be an unordered list (<code>ul</code>) and will need a class of <code>non-pane</code> to indicate that it isn't a pane.</p>

  <h2 class="heading-two">Multiple Menus</h2>

  <p>Adding multiple menus is as easy as adding another <code>ul</code>Â with a class of <code>non-pane</code>.</p>

  <p>To add multiple Koi navigations, you would do this:</p>

  <pre class="sg-pre prettyprint">&lt;div class="pane--navigation-container">
  &lt;%= koi_render_navigation "header_nav", "header_navigation", renderer: :sf_menu, level: 1..3, expand_all: true, dom_class: 'non-pane' %>
  &lt;%= koi_render_navigation "footer_nav", "footer_navigation", renderer: :sf_menu, level: 1..3, expand_all: true, dom_class: 'non-pane' %>
&lt;/div></pre>

  <h2 class="heading-two">Adding additional content to the first pane</h2>

  <p>Adding content to the first pane is as simple as just adding extra elements after your lists:</p>

  <pre class="sg-pre prettyprint">      ...
      &lt;/ul>
    &lt;/li>
    &lt;li>&lt;a href="#">Link&lt;/a>&lt;/li>
  &lt;/ul>

  &lt;p>Hello, I am in the mobile tray!&lt;/p>
&lt;/div>&lt;!-- .pane--navigation-container --></pre>

  <h2 class="heading-two">Accessing the menu externally</h2>

  <p>The menu features several public functions that you can call anywhere.</p>

  <p>The menu is accessed via the public variable <code>mobileNav</code></p>

  <h3 class="heading-three">Public Values</h3>

  <ul>
    <li>
      <code>mobileNav.currentLevel</code> - Returns how many panes deep the menu is open to.
    </li>
    <li>
      <code>mobileNav.simple</code> - Returns true or false based on the related setting. See <a href="#settings">settings</a> for more info on that.
    </li>
  </ul>

  <h3 class="heading-three">DOM Elements</h3>

  <ul>
    <li><code>mobileNav.anchor</code> - The menu button that opens/closes the tray.</li>
    <li><code>mobileNav.tray</code> - The tray
  </ul>

  <h3 class="heading-three">Public Functions</h3>

  <ul>
    <li><code>mobileNav.openMenu();</code> - Slide the menu open.</li>
    <li><code>mobileNav.closeMenu();</code> - Slide the menu closed.</li>
    <li><code>mobileNav.toggleMenu();</code> - Either close or open the menu.</li>
    <li><code>mobileNav.isOpen();</code> - Returns true or false depending on if the menu is open or not.</li>
    <li><code>mobileNav.getCurrentTab();</code> - Returns a jQuery object of the parent of the currently open pane.</li>
    <li><code>mobileNav.goToId(id);</code> - Go to the ID of a navigation item (either on the LI or A)</li>
    <li><code>mobileNav.goBack();</code> - Go back one level</li>
    <li><code>mobileNav.goToRoot();</code> - Goes back to first pane.</li>
    <li><code>mobileNav.updateMenuHeight();</code> - Will recalculate everything on the currently visible pane and update the height of the mobile menu accordingly.</li>
    <li><code>mobileNav.updateMenuHeightWithDelay();</code> - Runs the height update function after waiting the appropriate amount of time for a pane transition to finish.</li>
    <li><code>mobileNav.updateMenuBindings();</code> - Updates bindings on the anchor, back and forward buttons in case they somehow get lost via AJAX or DOM manipulation.</li>
  </ul>

  <h2 class="heading-two" id="settings">Settings</h2>

  <p>At the top of <code>navigation-mobile.js</code> you can find a bunch of variables ready for changing. These include classes, text strings, animation timings and so on.</p>

  <p>Some of the less obvious settings:</p>

  <p><code>jumpToCurrent</code> will decide wether the menu will load in to the current page already visible or if it will start from the top.</p>

  <p><code>simple</code> will fallback to a simple accordion-style menu if set to true.</p>

  <p><code>showOverviewLinks</code> will show overview links on secondary panes. Turn off if parent pages aren't real pages.</p>

</div>